LDFLAGS = `test -f requirements && pkg-config --static --libs $$(<requirements)`

TITLE = TEMP

SRC = $(wildcard *.c)
OBJ = ${SRC:.c=.o}

${TITLE}: ${SRC}
	cc -o $@ $< ${LDFLAGS}

%.o: %.c
	cc -o $@ $< ${LDFLAGS}
clean:
	-rm -f ${TITLE} a.out

test: ${TITLE}
	./${TITLE}

.PHONY: setup clean test
